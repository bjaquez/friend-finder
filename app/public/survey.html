<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Survey</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>
        <link rel="stylesheet" href="front.css">
    
</head>

<body>

    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <hr>
                <h2> Friend Finder Survey</h2>
                <hr>
            </div>
        </div>

        <div class="form-group">
            <label for="exampleFormControlInput1">Name (required)</label>
            <input type="name" class="form-control" id="name">
        </div>
        <div class="form-group">
            <label for="exampleFormControlInput1">Image Link (required)</label>
            <input type="link" class="form-control" id="image-link">
        </div>

        <div class="form-group">
            <h3>Question 1</h3>
            <label for="exampleFormControlSelect1">You enjoy traveling</label>
            <select class="form-control" id="question1">
                <option value="1">1 Strongly Disagree</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 Strongly Agree</option>
            </select>

        </div>

        <div class="form-group">
            <h3>Question 2</h3>
            <label for="exampleFormControlSelect1">You respond well to change</label>
            <select class="form-control" id="question2">
                <option value="1">1 Strongly Disagree</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 Strongly Agree</option>
            </select>

        </div>

        <div class="form-group">
            <h3>Question 3</h3>
            <label for="exampleFormControlSelect1">People often annoy you </label>
            <select class="form-control" id="question3">
                <option value="1">1 Strongly Disagree</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 Strongly Agree</option>
            </select>

        </div>

        <div class="form-group">
            <h3>Question 4</h3>
            <label for="exampleFormControlSelect1">You consider yourself a good listener</label>
            <select class="form-control" id="question4">
                <option value="1">1 Strongly Disagree</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 Strongly Agree</option>
            </select>

        </div>

        <div class="form-group">
            <h3>Question 5</h3>
            <label for="exampleFormControlSelect1">You are generally comfortable around strangers </label>
            <select class="form-control" id="question5">
                <option value="1">1 Strongly Disagree</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 Strongly Agree</option>
            </select>

        </div>

        <div class="form-group">
            <h3>Question 6</h3>
            <label for="exampleFormControlSelect1">Generally speaking, you rely more on your experience than your
                imagination </label>
            <select class="form-control" id="question6">
                <option value="1">1 Strongly Disagree</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 Strongly Agree</option>
            </select>

        </div>

        <div class="form-group">
            <h3>Question 7</h3>
            <label for="exampleFormControlSelect1">It is often difficult for you to relate to other people’s feelings</label>
            <select class="form-control" id="question7">
                <option value="1">1 Strongly Disagree</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 Strongly Agree</option>
            </select>

        </div>

        <div class="form-group">
            <h3>Question 8</h3>
            <label for="exampleFormControlSelect1">You think that everyone’s views should be respected regardless of
                whether they are supported by facts or not. </label>
            <select class="form-control" id="question8">
                <option value="1">1 Strongly Disagree</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 Strongly Agree</option>
            </select>

        </div>

        <div class="form-group">
            <h3>Question 9</h3>
            <label for="exampleFormControlSelect1">In a discussion, truth should be more important than people’s
                sensitivities </label>
            <select class="form-control" id="question9">
                <option value="1">1 Strongly Disagree</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 Strongly Agree</option>
            </select>

        </div>

        <div class="form-group">
            <h3>Question 10</h3>
            <label for="exampleFormControlSelect1">Your mind is always buzzing with unexplored ideas and plans. </label>
            <select class="form-control" id="question10">
                <option value="1">1 Strongly Disagree</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 Strongly Agree</option>
            </select>

        </div>


        <button type="submit" class="btn btn-primary survey-submit" data-toggle="modal" data-target="#matchModal">Submit</button>

        <!-- Button trigger modal -->

        <div class="modal fade" id="matchModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
            aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Your Match Is...</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <h2 class="match-name"></h2>
                        <img class="match-image img-fluid" src="">

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>

                    </div>
                </div>
            </div>
        </div>



    </div>

<script>
$(".survey-submit").on("click", function (event) {
    if ($("#name").val() === "" || $("#image-link").val() === "") {
        alert("Please complete all fields before submitting!")
        $(".match-name").text("No Match");

    } else {


        event.preventDefault();
        var q1 = parseInt($("#question1").val());
        var q2 = parseInt($("#question2").val());
        var q3 = parseInt($("#question3").val());
        var q4 = parseInt($("#question4").val());
        var q5 = parseInt($("#question5").val());
        var q6 = parseInt($("#question6").val());
        var q7 = parseInt($("#question7").val());
        var q8 = parseInt($("#question8").val());
        var q9 = parseInt($("#question9").val());
        var q10 = parseInt($("#question10").val());

        var newFriend = {
            name: $("#name").val().trim(),
            photo: $("#image-link").val().trim(),
            scores: [q1, q2, q3, q4, q5, q6, q7, q8, q9, q10]

        };

        $.post("/api/friends", newFriend)
            .then(function (data) {
                $(".match-name").text(data.name);
                $(".match-image").attr("src", data.photo);
            });

    }
});



</script>

</body>

</html>